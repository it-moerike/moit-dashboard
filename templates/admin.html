{% extends "base.html" %}
{% block content %}

<h3>Neue Domains</h3>

{% if not_activated_domains %}
  <table>
    <tr>
      <th>Domainname</th>
      <th>Erstellt am</th>
      <th>Username</th>
      <th>Status</th>
      <th></th>
    </tr>
    {% for domain in not_activated_domains %}
      <tr>
        <td><a href="https://{{ domain["name"] }}.moit.ml" target="_blank">{{ domain["name"] }}.moit.ml</a></td>
        <td>{{ domain["registration_date"] }}</td>
        <td>{{ domain["username"] }}</td>

        {% if domain["activated"] %}
          <td><i class="material-icons" title="Deine Domain wurde erfolgreich von {{ domain["activated"] }} eingerichtet!">done</i></td>
        {% else %}
          <td><i class="material-icons" title="Deine Domain wurde noch nicht eingerichtet! Dies kann noch einige Stunden bis Tage dauern! Baue solange noch eine weitere Webseite ;)">clear</i></td>
        {% endif %}

        <td><a href="{{ url_for("admin") }}/done/{{ domain["name"] }}"><i class="material-icons">check_box_outline_blank</i></a></td>
    {% endfor %}
  </table>

{% else %}
  <p>Es gibt keine unaktivierten Domains.</p>
{% endif %}

<hr>
<h3>Domains</h3>

{% if domains %}
  <table>
    <tr>
      <th>Domainname</th>
      <th>Erstellt am</th>
      <th>Username</th>
      <th>Status</th>
      <th></th>
    </tr>
    {% for domain in domains %}
      <tr>
        <td><a href="https://{{ domain["name"] }}.moit.ml" target="_blank">{{ domain["name"] }}.moit.ml</a></td>
        <td>{{ domain["registration_date"] }}</td>
        <td>{{ domain["username"] }}
        {% if domain["activated"] %}
          <td><i class="material-icons" title="Deine Domain wurde erfolgreich von {{ domain["activated"] }} eingerichtet!">done</i></td>
        {% else %}
          <td><i class="material-icons" title="Deine Domain wurde noch nicht eingerichtet! Dies kann noch einige Stunden bis Tage dauern! Baue solange noch eine weitere Webseite ;)">clear</i></td>
        {% endif %}

        <td><a href="#"><i class="material-icons">check_box</i></a></td>
    {% endfor %}
  </table>

{% else %}
  <p>Es gibt keine Domains.</p>
{% endif %}

<hr>
<h3>Neuen User erstellen</h3>

<form action="" method="post">
  <label>Username:</label> <input type="text" name="username" placeholder="Username" required><br>
  <input type="submit" value="Neuen Benutzer anlegen">
</form>

<hr>
<h3>Users</h3>

<table>
  <tr>
    <th>Username</th>
    <th>Erstellt am</th>
    <th>Rank</th>
  </tr>
  {% for user in users %}
    <tr>
      <td>{{ user["username"] }}</td>
      <td>{{ user["registration_date"] }}</td>
      <td>{{ user["rank"] }}
  {% endfor %}
</table>

{% endblock %}
